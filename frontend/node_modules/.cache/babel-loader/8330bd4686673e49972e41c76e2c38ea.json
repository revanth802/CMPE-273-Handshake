{"ast":null,"code":"var _jsxFileName = \"/home/revanth802/Downloads/CMPE 273-Handshake/frontend/src/components/Company/Company.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { backend } from \"../../config\";\n\nclass CompanyLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.usernameChangeHandler = e => {\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.passwordChangeHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      const data = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      console.log(\"data from axios\", data); //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post(backend + '/auth', data).then(response => {\n        console.log(\"Status Code : \", response.status);\n        const data = response.data[\"results\"];\n        console.log(\"response data from axios\", response.data);\n\n        if (response.status === 200) {\n          if (response.data === \"Incorrect Username and/or Password!\") {\n            this.setState({\n              authFlag: false,\n              errmsg: \"Incorrect Username and/or Password!\"\n            });\n          } else {\n            this.setState({\n              authFlag: true,\n              cname: data[0].company_name\n            });\n            sessionStorage.setItem(\"companyname\", data[0].company_id);\n            sessionStorage.setItem(\"cname\", data[0].company_name);\n            console.log(\"in response data credentials\", data[0].company_name);\n          }\n        }\n      });\n    };\n\n    this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n    this.state = {\n      isLoggedIn: false,\n      company: \"\",\n      emailid: \"\",\n      password: \"\",\n      username: \"\",\n      authFlag: false,\n      companyname: \"\",\n      cname: \"\",\n      errmsg: \"\",\n      msg: []\n    };\n  }\n\n  handleLoginClick() {\n    this.setState({\n      isLoggedIn: true\n    });\n  }\n\n  handleLogoutClick() {\n    this.setState({\n      isLoggedIn: false\n    });\n  }\n\n  render() {\n    const isLoggedIn = this.state.isLoggedIn;\n    var button;\n    var signupform;\n    var loginform;\n    var rendermsg;\n    let redirectVar = null;\n\n    if (cookie.load('cookie')) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/companydashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      });\n    }\n\n    function UserGreeting(props) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      });\n    }\n\n    function GuestGreeting(props) {\n      return React.createElement(\"h1\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      });\n    }\n\n    loginform = React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"main-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Company Login\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Please enter your username and password\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.usernameChangeHandler,\n      type: \"text\",\n      class: \"form-control\",\n      name: \"username\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.passwordChangeHandler,\n      type: \"password\",\n      class: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.submitLogin,\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Login\"))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"../Util/bg2.jpg\"),\n      style: {\n        float: \"left\",\n        height: \"600px\",\n        width: \"700px\"\n      },\n      alt: \"hs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), redirectVar, React.createElement(\"div\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: 'red',\n        fontWeight: 500\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.errmsg), loginform));\n  }\n\n}\n\nexport default CompanyLogin;","map":{"version":3,"sources":["/home/revanth802/Downloads/CMPE 273-Handshake/frontend/src/components/Company/Company.js"],"names":["React","Component","axios","cookie","Redirect","backend","CompanyLogin","constructor","props","usernameChangeHandler","e","setState","username","target","value","passwordChangeHandler","password","submitLogin","headers","Headers","preventDefault","data","state","console","log","defaults","withCredentials","post","then","response","status","authFlag","errmsg","cname","company_name","sessionStorage","setItem","company_id","bind","isLoggedIn","company","emailid","companyname","msg","handleLoginClick","handleLogoutClick","render","button","signupform","loginform","rendermsg","redirectVar","load","UserGreeting","GuestGreeting","require","float","height","width","color","fontWeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport '../../App.css';\r\nimport axios from 'axios';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\nimport {backend}  from \"../../config\";\r\n\r\n\r\n\r\nclass CompanyLogin extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n  \r\n        this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\r\n        this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\r\n        this.submitLogin = this.submitLogin.bind(this);\r\n      this.state = {\r\n        isLoggedIn: false,\r\n        company :\"\",\r\n        emailid : \"\",\r\n        password : \"\",\r\n        username : \"\",\r\n        authFlag : false,\r\n        companyname : \"\",\r\n        cname: \"\",\r\n        errmsg : \"\",\r\n        msg : []\r\n      }    \r\n    }\r\n    usernameChangeHandler = (e) => {\r\n                this.setState({\r\n                    username : e.target.value\r\n                })\r\n            }\r\n\r\n    passwordChangeHandler = (e) => {\r\n                this.setState({\r\n                    password : e.target.value\r\n                })\r\n    }\r\n\r\n    submitLogin = (e) => {\r\n        var headers = new Headers();\r\n        //prevent page from refresh\r\n        e.preventDefault();\r\n        const data = {\r\n            username : this.state.username,\r\n            password : this.state.password\r\n        }\r\n        console.log(\"data from axios\", data);\r\n        //set the with credentials to true\r\n        axios.defaults.withCredentials = true;\r\n        //make a post request with the user data\r\n        axios.post(backend+'/auth',data)\r\n            .then(response => {\r\n                console.log(\"Status Code : \",response.status);\r\n                const data = response.data[\"results\"];\r\n                console.log(\"response data from axios\", response.data);\r\n           \r\n            if(response.status === 200)\r\n            {\r\n               \r\n                if(response.data === \"Incorrect Username and/or Password!\"){\r\n                    this.setState({\r\n                        authFlag : false,\r\n                        errmsg : \"Incorrect Username and/or Password!\"\r\n                          \r\n                    })\r\n\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        authFlag : true,\r\n                        cname : data[0].company_name\r\n                                               \r\n                    })\r\n                    sessionStorage.setItem(\"companyname\",data[0].company_id);\r\n                    sessionStorage.setItem(\"cname\",data[0].company_name);\r\n\r\n                    console.log(\"in response data credentials\", data[0].company_name);\r\n                }\r\n            }\r\n            });\r\n    }\r\n\r\n\r\n\r\n    handleLoginClick() {\r\n      this.setState({isLoggedIn: true});\r\n    }\r\n  \r\n    handleLogoutClick() {\r\n      this.setState({isLoggedIn: false});\r\n    }\r\n  \r\n    render() {\r\n      const isLoggedIn = this.state.isLoggedIn;\r\n      var button;\r\n      var signupform;\r\n      var loginform;\r\n      var rendermsg;\r\n      let redirectVar = null;\r\n      if(cookie.load('cookie')){\r\n           \r\n        redirectVar = <Redirect to= \"/companydashboard\"/>\r\n       \r\n    }\r\n\r\n      function UserGreeting(props) {\r\n      return <div></div>;\r\n     }\r\n      \r\n      function GuestGreeting(props) {\r\n        return <h1 align=\"center\"></h1>;\r\n      }\r\n\r\n      \r\n          \r\n     \r\n           \r\n        \r\n        loginform =  (<div class=\"container\">\r\n              \r\n                  <div class=\"login-form\">\r\n                         <div class=\"main-div\">\r\n                              <div class=\"panel\">\r\n                                   <h2>Company Login</h2>\r\n                                   <p>Please enter your username and password</p>\r\n                                </div>\r\n                                \r\n                                 <div>\r\n                                       <input onChange = {this.usernameChangeHandler} type=\"text\" class=\"form-control\" name=\"username\" placeholder=\"Username\"/>\r\n                                  </div>\r\n                                  <br></br>\r\n                                   <div>\r\n                                     <input onChange = {this.passwordChangeHandler} type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Password\"/>\r\n                                   </div>\r\n                                   <br></br>\r\n                                  <button onClick = {this.submitLogin} class=\"btn btn-primary\">Login</button>        \r\n                          </div>\r\n                       </div>\r\n        \r\n                   </div>);\r\n      \r\n  \r\n          \r\n\r\n      return (\r\n        <div>\r\n          <img src ={require(\"../Util/bg2.jpg\") } style={{float:\"left\",height:\"600px\",width:\"700px\"}} alt=\"hs\"/>\r\n            {redirectVar}\r\n        <div align=\"center\">\r\n             <span style={{color: 'red' , fontWeight : 500}}>{this.state.errmsg}</span>\r\n         \r\n         \r\n          {loginform}\r\n        </div>\r\n        \r\n        </div>  \r\n      );\r\n    }\r\n  }\r\n  \r\n\r\nexport default CompanyLogin;"]},"metadata":{},"sourceType":"module"}