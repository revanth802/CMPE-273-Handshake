{"ast":null,"code":"var _jsxFileName = \"/home/revanth802/Desktop/handshake/frontend/src/components/Events/studentevents.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport dateFormat from 'dateformat';\nimport Popup from \"reactjs-popup\";\nimport { Redirect } from 'react-router';\n\nclass StudentEvents extends Component {\n  constructor(_props) {\n    super(_props);\n\n    this.editjobs = e => {};\n\n    this.enablefields = props => {\n      console.log(\"in enable fields\");\n      props.disabled = false;\n    };\n\n    this.submitnewevent = () => {\n      const data = {\n        eventname: this.state.eventname,\n        eventdescription: this.state.eventdescription,\n        eventtime: this.state.eventtime,\n        location: this.state.location,\n        eligibility: this.state.carlist\n      };\n      axios.post(\"http://localhost:8080/submitnewevent\", data).then(response => {\n        console.log(\"data is : \", response.data);\n\n        if (response.data === \"success\") {\n          this.setState({\n            authFlag: 1\n          });\n        }\n      });\n    };\n\n    this.searchforeventname = e => {\n      const data = {\n        searchValue: this.state.searchValue\n      };\n      console.log(\"Data is\", data);\n      axios.post(`http://localhost:8080/eventnamefilter`, data).then(response => {\n        console.log(\"response data\", response.data);\n        this.setState({\n          events: response.data,\n          allevents: response.data\n        });\n        console.log(\"events\", this.state.events);\n      });\n    };\n\n    this.viewapplications = (e, jobid) => {\n      // this.props.history.push('/viewapplications');\n      sessionStorage.setItem(\"jobid\", jobid);\n      console.log(\"in view\", jobid);\n      this.setState({\n        authFlag: 2\n      }); // redirectVar = <Redirect to=\"/viewapplications\" />\n    };\n\n    this.register = eventid => {\n      const data = {\n        eventid: eventid\n      };\n      console.log(\"in event\", eventid);\n      axios.post(\"http://localhost:8080/applyreg\", data).then(response => {\n        console.log(\"applyreg\", response.data);\n      });\n      console.log(\"registered\");\n    };\n\n    this.vieweventapplications = (e, eventid) => {\n      sessionStorage.setItem(\"eventid\", eventid);\n      console.log(\"in view\", eventid);\n      this.setState({\n        authFlag: 2\n      });\n    };\n\n    this.applyforevent = (e, eventid) => {\n      console.log(\"in view\", eventid);\n      const data = {\n        eventid: eventid\n      };\n      console.log(\"in event\", eventid);\n      axios.post(\"http://localhost:8080/applyforevent\", data).then(response => {\n        console.log(\"applyreg\", response.data);\n\n        if (response.status === 200) {\n          this.setState({\n            eventmsg: \"Applied successfully\"\n          });\n        }\n      });\n      console.log(\"Apply\");\n    };\n\n    this.state = {\n      msg: [],\n      eventmsg: \"\",\n      disablefields: true,\n      eventname: \"\",\n      authFlag: 0,\n      studentnames: [],\n      events: [],\n      eventdescription: \"\",\n      eventtime: \"\",\n      location: \"\",\n      carlist: \"\",\n      authFlag: 0,\n      companyname: \"\",\n      allevents: [],\n      searchValue: \"\"\n    };\n    this.eventnamehandler = this.eventnamehandler.bind(this);\n    this.eventdescriptionhandler = this.eventdescriptionhandler.bind(this);\n    this.eventtimehandler = this.eventtimehandler.bind(this);\n    this.locationhandler = this.locationhandler.bind(this);\n    this.eligibilty = this.eligibilty.bind(this);\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\n    this.viewapplications = this.viewapplications.bind(this);\n  }\n\n  handleOnChange(event) {\n    this.setState({\n      searchValue: event.target.value\n    });\n  }\n\n  eventnamehandler(event) {\n    this.setState({\n      eventname: event.target.value\n    });\n  }\n\n  eventdescriptionhandler(event) {\n    this.setState({\n      eventdescription: event.target.value\n    });\n  }\n\n  eventtimehandler(event) {\n    this.setState({\n      eventtime: event.target.value\n    });\n  }\n\n  locationhandler(event) {\n    this.setState({\n      location: event.target.value\n    });\n  }\n\n  eligibilty(event) {\n    this.setState({\n      carlist: event.target.value\n    });\n  }\n\n  componentWillMount() {\n    this.setState({\n      events: []\n    });\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:8080/viewregisteredevents').then(response => {\n      console.log(\"in events\");\n      console.log(response.data); //update the state with the response data\n\n      this.setState({\n        events: response.data[\"results\"],\n        companyname: sessionStorage.getItem(\"cname\")\n      });\n      console.log(\"events\", this.state.events);\n    });\n    axios.get('http://localhost:8080/viewallevents').then(response => {\n      console.log(\"in All events\");\n      console.log(\"in all events\", response.data[\"results\"]); //update the state with the response data\n\n      this.setState({\n        allevents: response.data[\"events\"],\n        companyname: sessionStorage.getItem(\"cname\")\n      });\n      console.log(\"events\", this.state.allevents);\n    });\n  }\n\n  handleLoginClick() {\n    this.setState({\n      isLoggedIn: true\n    });\n  }\n\n  handleLogoutClick() {\n    this.setState({\n      isLoggedIn: false\n    });\n  }\n\n  render() {\n    let rendermsg = null;\n    rendermsg = this.state.msg;\n    const isLoggedIn = this.state.isLoggedIn;\n    var button;\n    var signupform;\n    var loginform;\n    var msgstudent;\n    var registerbutton;\n    var redirectVar;\n\n    if (this.state.authFlag == 2) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/vieweventapplications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      });\n    }\n\n    function AddnewPost(props) {\n      const isLoggedIn = props.isLoggedIn;\n\n      if (isLoggedIn) {\n        return React.createElement(UserGreeting, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(GuestGreeting, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      });\n    }\n\n    function UserGreeting(props) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      });\n    }\n\n    function GuestGreeting(props) {\n      return React.createElement(\"h1\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \" \", React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Registered Events\"));\n    }\n\n    function LoginButton(props) {\n      return React.createElement(\"div\", {\n        style: {\n          width: '50%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        align: \"center\",\n        class: \"btn btn-primary\",\n        onClick: props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"List of Events\"));\n    }\n\n    function LogoutButton(props) {\n      return React.createElement(\"div\", {\n        style: {\n          width: '50%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: props.onClick,\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"View Registered events\"));\n    }\n\n    if (isLoggedIn) {\n      button = React.createElement(LogoutButton, {\n        onClick: this.handleLogoutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      });\n      signupform = this.state.allevents.map(event => {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        }, redirectVar, React.createElement(\"div\", {\n          className: \"row\",\n          key: event.event_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"well\",\n          style: {\n            height: '175px',\n            width: '50%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, event.event_name), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, event.event_desc), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, \" \", event.event_time, \", \", event.location, \" \"), React.createElement(\"button\", {\n          onClick: e => this.applyforevent(e, event.event_id),\n          style: {\n            align: 'right'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }, \" Apply \"))));\n      });\n    } else {\n      button = React.createElement(LoginButton, {\n        onClick: this.handleLoginClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      });\n      console.log(\"logged In inside console\");\n      const element = React.createElement(Welcome, {\n        name: \"Sara\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      });\n      loginform = this.state.events.map(event => {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        }, redirectVar, React.createElement(\"div\", {\n          className: \"row\",\n          key: event.event_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"well\",\n          style: {\n            height: '175px',\n            width: '50%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352\n          },\n          __self: this\n        }, event.event_name), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }, event.event_desc), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }, \" \", event.event_time, \", \", event.location, \" \"))));\n      });\n    }\n\n    function Welcome(props) {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Hello, \", props.name, \" \");\n    }\n\n    return React.createElement(\"div\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        color: \"red\",\n        color: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, \" \", this.state.eventmsg, \" \"), React.createElement(\"input\", {\n      name: \"text\",\n      type: \"text\",\n      class: \"searchComponent\",\n      placeholder: \"  Search for an Event Name / Location\",\n      onChange: event => this.handleOnChange(event),\n      value: this.state.searchValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      style: {\n        width: \"200px\"\n      },\n      onClick: event => this.searchforeventname(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, \"Search\"), redirectVar, React.createElement(AddnewPost, {\n      isLoggedIn: isLoggedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, button, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }), signupform, loginform));\n  }\n\n}\n\nexport default StudentEvents;","map":{"version":3,"sources":["/home/revanth802/Desktop/handshake/frontend/src/components/Events/studentevents.js"],"names":["React","Component","axios","dateFormat","Popup","Redirect","StudentEvents","constructor","props","editjobs","e","enablefields","console","log","disabled","submitnewevent","data","eventname","state","eventdescription","eventtime","location","eligibility","carlist","post","then","response","setState","authFlag","searchforeventname","searchValue","events","allevents","viewapplications","jobid","sessionStorage","setItem","register","eventid","vieweventapplications","applyforevent","status","eventmsg","msg","disablefields","studentnames","companyname","eventnamehandler","bind","eventdescriptionhandler","eventtimehandler","locationhandler","eligibilty","handleLoginClick","handleLogoutClick","handleOnChange","event","target","value","componentWillMount","componentDidMount","get","getItem","isLoggedIn","render","rendermsg","button","signupform","loginform","msgstudent","registerbutton","redirectVar","AddnewPost","UserGreeting","GuestGreeting","LoginButton","width","onClick","LogoutButton","map","event_name","height","event_desc","event_time","event_id","align","element","Welcome","name","color"],"mappings":"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","sourcesContent":["import React,{ Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport dateFormat from 'dateformat';\r\nimport Popup from \"reactjs-popup\";\r\nimport {Redirect} from 'react-router';\r\n\r\n\r\nclass StudentEvents extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n\r\n        super(props);\r\n        this.state = \r\n    {\r\n        msg : [],\r\n        eventmsg : \"\",\r\n        disablefields : true,\r\n        eventname : \"\",\r\n        authFlag: 0,\r\n        studentnames : [],\r\n        events : [],\r\n        eventdescription : \"\",\r\n        eventtime : \"\",\r\n        location : \"\",\r\n        carlist : \"\",\r\n        authFlag :0,\r\n        companyname : \"\",\r\n        allevents : [],\r\n        searchValue :\"\"\r\n        \r\n    }\r\n\r\n    this.eventnamehandler = this.eventnamehandler.bind(this);\r\n    this.eventdescriptionhandler = this.eventdescriptionhandler.bind(this);\r\n    this.eventtimehandler = this.eventtimehandler.bind(this);\r\n    this.locationhandler = this.locationhandler.bind(this);\r\n    this.eligibilty = this.eligibilty.bind(this);\r\n    this.handleLoginClick = this.handleLoginClick.bind(this);\r\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\r\n    this.viewapplications = this.viewapplications.bind(this);\r\n \r\n  \r\n    } \r\n\r\n    handleOnChange(event)\r\n    {\r\n        this.setState({searchValue: event.target.value});\r\n\r\n    }\r\n\r\n    eventnamehandler(event)\r\n    {\r\n      this.setState({eventname: event.target.value});\r\n\r\n    }\r\n\r\n    eventdescriptionhandler(event) {\r\n        this.setState({eventdescription: event.target.value});\r\n      }\r\n\r\n      eventtimehandler(event)\r\n      {\r\n        this.setState({eventtime: event.target.value});\r\n      }\r\n\r\n      locationhandler(event)\r\n      {\r\n        this.setState({location: event.target.value});\r\n\r\n      }\r\n\r\n\r\n      eligibilty(event)\r\n      {\r\n        this.setState({carlist: event.target.value});\r\n      }\r\n\r\n\r\n     \r\ncomponentWillMount() {\r\n    this.setState({\r\n        events: []\r\n    });\r\n}\r\n\r\n\r\ncomponentDidMount()\r\n{\r\n  \r\n        axios.get('http://localhost:8080/viewregisteredevents')\r\n                .then((response) => {\r\n                    console.log(\"in events\");\r\n                    console.log(response.data);\r\n                    \r\n                //update the state with the response data\r\n                this.setState({\r\n                    events : response.data[\"results\"],\r\n                    companyname :  sessionStorage.getItem(\"cname\")\r\n                });\r\n                console.log(\"events\",this.state.events);\r\n            });\r\n\r\n            axios.get('http://localhost:8080/viewallevents')\r\n            .then((response) => {\r\n                console.log(\"in All events\");\r\n                console.log(\"in all events\",response.data[\"results\"]);\r\n                \r\n            //update the state with the response data\r\n            this.setState({\r\n                allevents : response.data[\"events\"],\r\n                companyname :  sessionStorage.getItem(\"cname\")\r\n            });\r\n            console.log(\"events\",this.state.allevents);\r\n        });\r\n    \r\n}\r\n\r\neditjobs = (e) => {\r\n\r\n}\r\n\r\n\r\nenablefields = (props) => {\r\n    console.log(\"in enable fields\");\r\n   \r\n        props.disabled = false  \r\n}\r\n\r\n\r\nhandleLoginClick() {\r\n  this.setState({isLoggedIn: true});\r\n}\r\n\r\n\r\nhandleLogoutClick() {\r\n  this.setState({isLoggedIn: false});\r\n}\r\n\r\n\r\nsubmitnewevent = () => {\r\n  const data = {\r\n    eventname : this.state.eventname,\r\n    eventdescription:this.state.eventdescription,\r\n    eventtime : this.state.eventtime,\r\n    location:this.state.location,\r\n    eligibility:this.state.carlist,\r\n \r\n    }\r\n  axios.post(\"http://localhost:8080/submitnewevent\", data).then(response => {\r\n    console.log(\"data is : \", response.data);\r\n    if(response.data === \"success\")\r\n    {\r\n    this.setState({\r\n      authFlag : 1\r\n    })\r\n    }\r\n  });\r\n};\r\n\r\n\r\n\r\nsearchforeventname = (e) =>\r\n{\r\n    const data = {\r\n        searchValue: this.state.searchValue\r\n      };\r\n      console.log(\"Data is\", data);\r\n      axios\r\n        .post(\r\n          `http://localhost:8080/eventnamefilter`,\r\n          data\r\n        )\r\n        .then(response => {\r\n            console.log(\"response data\",response.data);\r\n            this.setState({\r\n                events : response.data,\r\n                allevents : response.data\r\n            });\r\n            console.log(\"events\",this.state.events);\r\n            \r\n        });\r\n}\r\n\r\nviewapplications = (e,jobid) =>\r\n{\r\n    // this.props.history.push('/viewapplications');\r\n    sessionStorage.setItem(\"jobid\",jobid);\r\n    console.log(\"in view\", jobid);\r\n    this.setState({\r\n        authFlag : 2\r\n      })\r\n    // redirectVar = <Redirect to=\"/viewapplications\" />\r\n}\r\n\r\n\r\nregister = (eventid) =>\r\n{\r\n\r\n    const data = {\r\n        eventid : eventid\r\n    }\r\n    console.log(\"in event\", eventid)\r\n    axios.post(\"http://localhost:8080/applyreg\", data).then(response => {\r\n    console.log(\"applyreg\",response.data);\r\n});\r\n        console.log(\"registered\");\r\n}\r\n\r\n\r\nvieweventapplications = (e,eventid) =>\r\n{\r\n\r\n  sessionStorage.setItem(\"eventid\",eventid);\r\n  console.log(\"in view\", eventid);\r\n  this.setState({\r\n      authFlag : 2\r\n    })\r\n}\r\n\r\napplyforevent = (e,eventid) =>\r\n{\r\n  console.log(\"in view\", eventid);\r\n  const data = {\r\n    eventid : eventid\r\n}\r\nconsole.log(\"in event\", eventid)\r\naxios.post(\"http://localhost:8080/applyforevent\", data).then(response => {\r\nconsole.log(\"applyreg\",response.data);\r\nif(response.status === 200)\r\n{\r\n  this.setState({\r\n    eventmsg : \"Applied successfully\"\r\n  })\r\n}\r\n});\r\n    console.log(\"Apply\");\r\n}\r\n  \r\nrender() {\r\n\r\n\r\n    let rendermsg = null;\r\n    rendermsg = this.state.msg;\r\n    const isLoggedIn = this.state.isLoggedIn;\r\n    var button;\r\n    var signupform;\r\n    var loginform;\r\n    var msgstudent;\r\n    var registerbutton;\r\n  \r\n    var  redirectVar;\r\n\r\n   if(this.state.authFlag == 2)\r\n   {\r\n           redirectVar = <Redirect to=\"/vieweventapplications\" />\r\n\r\n   }\r\n\r\n    function AddnewPost(props) {\r\n      const isLoggedIn = props.isLoggedIn;\r\n      if (isLoggedIn) {\r\n        return <UserGreeting />;\r\n      }\r\n      return <GuestGreeting />;\r\n    }\r\n\r\n    function UserGreeting(props) {\r\n      return <div></div>;\r\n     }\r\n      \r\n      function GuestGreeting(props) {\r\n        return <h1 align=\"center\"> <h2>Registered Events</h2></h1>;\r\n      }\r\n\r\n\r\n      \r\n    function LoginButton(props) {\r\n      return (\r\n        <div  style ={{width:'50%'}}>\r\n          <button align=\"center\" class=\"btn btn-primary\" onClick={props.onClick}>\r\n       List of Events\r\n        </button>   \r\n        </div>         \r\n      );\r\n    }\r\n    \r\n    function LogoutButton(props) {\r\n      return (\r\n        <div  style ={{width:'50%'}}>\r\n        <button onClick={props.onClick} class=\"btn btn-primary\">\r\n         View Registered events\r\n         </button>\r\n         </div>\r\n      );\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n      if (isLoggedIn) {\r\n        button = <LogoutButton onClick={this.handleLogoutClick} />;\r\n  \r\n        \r\n       \r\n        signupform = \r\n        (   \r\n          this.state.allevents.map(event => {\r\n            return(\r\n              <div>\r\n                \r\n                {redirectVar}\r\n                <div className=\"row\" key = {event.event_name}>\t\r\n                <div className=\"well\" style ={{height:'175px',width:'50%'}}>\r\n                    <h3>{event.event_name}</h3>\r\n                        <h4>{event.event_desc}</h4>\r\n                        <p> {event.event_time}, {event.location} </p>\r\n                        <button onClick={e =>\r\n                          this.applyforevent(\r\n                            e,\r\n                            event.event_id\r\n                          )} style = {{align :'right'}}> Apply </button>\r\n                       \r\n                </div>\r\n                </div> \r\n                </div>   \r\n        )\r\n              })\r\n\r\n        )\r\n      }\r\n\r\n      else {\r\n        \r\n        button = <LoginButton onClick={this.handleLoginClick} />;\r\n       \r\n        \r\n            console.log(\"logged In inside console\")\r\n           \r\n            const element = <Welcome name=\"Sara\" />;\r\n\r\n            \r\n        loginform =  (  \r\n\r\n   this.state.events.map(event => {\r\n    return(\r\n      <div>\r\n        {redirectVar}\r\n        <div className=\"row\" key = {event.event_name}>\t\r\n        <div className=\"well\" style ={{height:'175px',width:'50%'}}>\r\n            <h3>{event.event_name}</h3>\r\n                <h4>{event.event_desc}</h4>\r\n                <p> {event.event_time}, {event.location} </p>\r\n      \r\n               \r\n        </div>\r\n        </div> \r\n        </div>   \r\n)\r\n      }));\r\n           \r\n      }\r\n\r\n\r\n\r\n    function Welcome(props) {\r\n        return <h1>Hello, {props.name} </h1>;\r\n      }     \r\n  \r\n\r\n   \r\n          return (\r\n            <div align=\"center\">\r\n            <p style={{color:\"red\",color:\"center\"}}> {this.state.eventmsg} </p>\r\n            <input\r\n              name=\"text\"\r\n              type=\"text\"\r\n              class=\"searchComponent\"\r\n              placeholder=\"  Search for an Event Name / Location\"\r\n              onChange={event => this.handleOnChange(event)}\r\n              value={this.state.searchValue}\r\n            />\r\n            <button style={{width:\"200px\"}} onClick={event =>\r\n                  this.searchforeventname(\r\n                    event\r\n                  )}>Search</button>\r\n            \r\n                {redirectVar}\r\n              {/* <Welcome name={this.state.companyname}/> */}\r\n            <AddnewPost isLoggedIn={isLoggedIn} />\r\n          \r\n            <div align=\"center\">\r\n             {button}\r\n             <br></br>\r\n           {signupform}\r\n           {loginform}\r\n            </div>\r\n            </div> \r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default StudentEvents"]},"metadata":{},"sourceType":"module"}